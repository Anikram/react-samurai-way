(this["webpackJsonp01-first-app"]=this["webpackJsonp01-first-app"]||[]).push([[4],{301:function(e,t,s){e.exports={profileContent:"ProfileInfo_profileContent__uGti0",profileBanner:"ProfileInfo_profileBanner__1HYzL",cover:"ProfileInfo_cover__301bp",panel:"ProfileInfo_panel__3zj2v",avatar:"ProfileInfo_avatar__3xuFq",info:"ProfileInfo_info__3dsdE",jobSection:"ProfileInfo_jobSection__1cK-E",jobDescription:"ProfileInfo_jobDescription__17ahI",status:"ProfileInfo_status__2G3BZ",contacts:"ProfileInfo_contacts__3y62P",contact:"ProfileInfo_contact__1N3gp"}},302:function(e,t,s){e.exports={textarea:"Posts_textarea__2gBif",posts:"Posts_posts__tkALa",addButton:"Posts_addButton__2OD-h"}},304:function(e,t,s){e.exports={profileContent:"Profile_profileContent__1eaZB"}},305:function(e,t,s){e.exports={post:"Post_post__3rcfg",text:"Post_text__1cnvX",postUi:"Post_postUi__2XhjG",likeCounter:"Post_likeCounter__PlvIW"}},310:function(e,t,s){"use strict";s.r(t);var o=s(20),r=s(21),n=s(23),a=s(22),i=s(0),c=s(1),l=s.n(c),u=s(11),d=s(304),f=s.n(d),p=s(53),j=s(301),b=s.n(j),h=s(71),O=s(44),x=s(137),_=function(e){var t=Object(c.useState)(!1),s=Object(x.a)(t,2),o=s[0],r=s[1],n=Object(c.useState)(e.status),a=Object(x.a)(n,2),l=a[0],u=a[1];Object(c.useEffect)((function(){u(e.status)}),[e.status]);var d=function(t){r(!1),e.updateUserStatus(l)};return Object(i.jsxs)(i.Fragment,{children:[!o&&Object(i.jsx)("div",{className:b.a.status,children:Object(i.jsx)("span",{onDoubleClick:function(){e.profileId===e.authorizedUserId&&r(!0)},children:e.status||"-------"})}),o&&Object(i.jsx)("div",{className:b.a.status,children:Object(i.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:d,onKeyPress:function(e){"Enter"===e.key&&d()},value:l})})]})},m=s(114),v=function(e){var t=e.profile,s=e.updateUserStatus,o=(e.statusEditable,e.status),r=e.profileIsFriend,n=e.authorizedUserId,a=(e.updateProfileOnClick,Object(p.a)(e,["profile","updateUserStatus","statusEditable","status","profileIsFriend","authorizedUserId","updateProfileOnClick"]));if(!t)return Object(i.jsx)(O.a,{});var c=t.contacts,l=Object.keys(c).map((function(e,t){return c[e]?Object(i.jsxs)("div",{className:b.a.contact,children:[e,": ",Object(i.jsx)("button",{children:c[e]})]},t):Object(i.jsxs)("div",{className:b.a.contact,children:[e,": "]},t)}));return Object(i.jsxs)("div",{className:b.a.profileContent,children:[Object(i.jsx)("div",{className:b.a.profileBanner,children:Object(i.jsx)("div",{className:b.a.panel,children:Object(i.jsxs)("div",{className:b.a.avatar,children:[Object(i.jsx)("img",{src:null!=t.photos.large?t.photos.large:h.a,alt:""}),Object(i.jsx)("div",{className:b.a.nickname,children:Object(i.jsxs)("h5",{children:[" ",t.fullName," "]})}),n!==t.userId?Object(i.jsx)(m.a,{userId:t.userId,followed:r,followingInProgress:a.followingInProgress,unfollowUser:a.unfollowUser,followUser:a.followUser}):Object(i.jsx)("div",{})]})})}),Object(i.jsx)(_,{status:o,updateUserStatus:s,authorizedUserId:n,profileId:t.userId}),Object(i.jsxs)("div",{className:b.a.info,children:[Object(i.jsx)("div",{className:b.a.contacts,children:l}),Object(i.jsxs)("div",{className:b.a.jobSection,children:[Object(i.jsx)("div",{className:b.a.openForHiring,children:"I'm open for hiring!"}),Object(i.jsxs)("div",{className:b.a.jobDescription,children:['"',t.lookingForAJobDescription,'"']})]})]})]})},P=s(29),I=s(302),g=s.n(I),U=s(305),w=s.n(U),k=function(e){return Object(i.jsxs)("div",{className:w.a.post,children:[Object(i.jsx)("img",{src:"https://www.kosher.com/resized/open_graph/u/s/user_avatar.png",alt:""}),Object(i.jsx)("div",{className:w.a.text,children:e.message}),Object(i.jsxs)("div",{className:w.a.postUi,children:[Object(i.jsx)("div",{className:w.a.likeCounter,children:Object(i.jsx)("span",{children:e.likeCount})}),Object(i.jsx)("button",{onClick:function(){e.addLike(e.postId)},children:"Like"})]})]})},N=s(94),S=s(49),C=s(136),F=s(40),E=s(35),z=Object(F.b)(15),y=Object(C.a)({form:"PostsForm",onSubmitSuccess:function(e,t){t(Object(S.a)("PostsForm"))}})((function(e){var t=e.handleSubmit,s=e.newPostText;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("div",{children:Object(i.jsx)(N.a,{className:g.a.textarea,name:"newPostText",component:E.b,value:s,validate:[F.d,z]})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{children:"Add post"})})]})})),B=l.a.memo((function(e){var t=e.addLike,s=e.posts,o=e.addPost,r=(Object(p.a)(e,["addLike","posts","addPost"]),function(e){t(e)}),n=s.map((function(e){return Object(i.jsx)(k,{addLike:r,message:e.message,postId:e.id-1,likeCount:e.likeCount},e.id)}));return Object(i.jsxs)("div",{className:g.a.posts,children:[Object(i.jsx)("h3",{children:"My posts"}),Object(i.jsx)(y,{onSubmit:function(e){o(e.newPostText)}}),Object(i.jsx)("div",{className:g.a.posts,children:n})]})})),L=Object(u.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:P.b,addLike:P.a})(B),D=l.a.memo((function(e){return Object(i.jsxs)("div",{className:f.a.profileContent+" border tile",children:[Object(i.jsx)(v,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,statusEditable:e.statusEditable,followUser:e.followUser,unfollowUser:e.unfollowUser,followingInProgress:e.followingInProgress,profileIsFriend:e.profileIsFriend,authorizedUserId:e.authorizedUserId}),Object(i.jsx)(L,{})]})})),A=s(10),T=s(104),G=s(9),J=s(41),H=s(30),K=s(48),M=function(e){return e.profilePage.profile},X=function(e){return e.profilePage.status},Z=function(e){return e.auth.userId},q=function(e){return e.auth.isAuth},W=function(e){return e.profilePage.isFriend},Y=function(e){Object(n.a)(s,e);var t=Object(a.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={statusEditable:!0},e}return Object(r.a)(s,[{key:"statusEditableCheck",value:function(e){e===this.props.authorizedUserId?this.setState({statusEditable:!0}):this.setState({statusEditable:!1})}},{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;if(!e&&!(e=this.props.authorizedUserId))return Object(i.jsx)(A.a,{to:"/login"});this.props.getUserProfile(e),this.props.getUserStatus(e),this.statusEditableCheck(e),this.props.isFriend(e)}},{key:"render",value:function(){return Object(i.jsx)(D,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,statusEditable:this.state.statusEditable,followUser:this.props.followUser,unfollowUser:this.props.unfollowUser,followingInProgress:this.props.followingInProgress,profileIsFriend:this.props.profileIsFriend,authorizedUserId:this.props.authorizedUserId})}}]),s}(l.a.PureComponent);t.default=Object(G.compose)(Object(u.b)((function(e){return{profile:M(e),status:X(e),authorizedUserId:Z(e),isAuth:q(e),profileIsFriend:W(e),followingInProgress:Object(K.b)(e),friends:e.friendsPage.friends}}),{getUserProfile:P.d,getUserStatus:P.e,updateUserStatus:P.h,isFriend:P.f,updateUserFriends:H.d,followUser:J.c,unfollowUser:J.e}),A.f,T.a)(Y)}}]);
//# sourceMappingURL=4.58c9a272.chunk.js.map